# 分贝测量仪示例应用

这是一个完整的分贝测量仪示例应用，展示了如何使用 `decibel_meter` 插件的所有功能。

## 功能特性

### 🎯 分贝计页面
- **测量控制**：开始/停止测量操作
- **基本数据显示**：当前分贝值、AVG(LEQ)、MIN、MAX、PEAK
- **权重设置**：频率权重和时间权重切换，显示格式为 dB(A)F
- **实时图表**：分贝曲线图、频谱分析图、实时指示器图、统计分布图、LEQ趋势图
- **操作功能**：重置数据、校准设置、导出报告

### 🔊 噪音测量计页面
- **基本数据显示**：记录时长、当前分贝值、TWA值、限值、交换率
- **标准切换**：支持 OSHA、NIOSH、GBZ、EU 四种国际标准
- **允许暴露时长表**：显示各声级的累计暴露时间和剂量
- **总剂量计算**：允许暴露时长列表剂量的总和
- **图表分析**：剂量累积图、TWA趋势图
- **操作功能**：重置数据

### ⚙️ 设置页面
- **校准设置**：校准偏移调整（-10dB 到 +10dB）
- **频率权重设置**：A权重、B权重、C权重、Z权重、ITU-R 468
- **时间权重设置**：快响应(F)、慢响应(S)、脉冲响应(I)
- **噪声标准设置**：OSHA、NIOSH、GBZ、EU
- **应用信息**：版本、平台、符合标准等

### 📊 图表功能
- **实时分贝曲线图**：显示实时分贝变化
- **频谱分析图**：频率域分析
- **实时指示器**：当前分贝、LEQ、MIN、MAX、PEAK 显示
- **统计分布图**：L10、L50、L90 统计值
- **LEQ趋势图**：等效连续声级趋势
- **剂量累积图**：噪声剂量随时间累积
- **TWA趋势图**：时间加权平均值趋势

### 📄 报告功能
- **综合报告生成**：包含所有关键数据的完整报告
- **合规性评估**：法规符合性分析和建议措施
- **数据导出**：支持报告导出功能

## 技术实现

### 架构设计
- **主页面**：TabBar 导航，包含三个主要页面
- **分贝计页面**：实时测量和数据显示
- **噪音测量计页面**：职业健康监测功能
- **设置页面**：参数配置和应用信息

### 数据模型
- `ChartData`：图表数据点
- 自定义绘制器：`LineChartPainter`、`BarChartPainter`、`DoseChartPainter`、`TWATrendPainter`

### 状态管理
- 使用 `StatefulWidget` 管理页面状态
- 定时器更新实时数据
- 异步数据加载和错误处理

## 使用方法

### 1. 基本测量
1. 在分贝计页面点击"开始测量"按钮
2. 观察实时分贝值和各种统计数据
3. 查看实时图表更新
4. 点击"停止测量"结束测量

### 2. 权重设置
1. 点击频率权重或时间权重按钮
2. 从弹出菜单中选择合适的权重类型
3. 观察显示格式变化（如 dB(A)F）

### 3. 噪音测量计使用
1. 切换到噪音测量计页面
2. 选择测量标准（默认 NIOSH）
3. 开始测量后观察剂量数据
4. 查看允许暴露时长表
5. 监控是否超过限值

### 4. 校准设置
1. 在设置页面调整校准偏移
2. 使用滑动条或手动输入数值
3. 点击保存按钮应用设置

### 5. 报告生成
1. 在分贝计页面点击"导出"按钮
2. 查看生成的综合报告
3. 了解合规性结论和建议措施

## 注意事项

1. **权限要求**：需要麦克风权限才能进行测量
2. **测量精度**：测量精度受设备硬件和环境影响
3. **标准选择**：根据应用场景选择合适的噪声限值标准
4. **数据保存**：测量数据会实时保存，可通过重置按钮清除

## 符合标准

- **IEC 61672-1:2013**：声级计标准
- **ISO 1996-1:2016**：环境噪声测量
- **IEC 61260-1:2014**：倍频程滤波器
- **职业健康标准**：OSHA、NIOSH、GBZ、EU

## 开发说明

这个示例应用展示了如何：
- 集成分贝测量仪插件的所有 API
- 实现实时数据显示和图表绘制
- 处理异步操作和错误情况
- 创建专业的用户界面
- 实现职业健康监测功能

可以作为开发类似应用的参考模板。